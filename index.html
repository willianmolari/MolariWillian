<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orçamento Impressão 3D</title>
    <link rel="stylesheet" href="main.css"> <!-- Importação do CSS externo -->
</head>
<body>
    <h1>Orçamento Impressão 3D</h1>
    <div class="container">
        <label for="material">Material</label>
        <select id="material">
            <option value="">Selecione</option>
            <option value="ABS">ABS</option>
            <option value="PLA">PLA</option>
            <option value="PETG">PETG</option>
        </select>

        <label for="quantidade">Quantidade (g)</label>
        <input type="number" id="quantidade" min="0" step="1">

        <label for="horas">Horas de impressão</label>
        <input type="number" id="horas" min="0" step="0.1">

        <label for="maquina">Máquina</label>
        <select id="maquina">
            <option value="">Selecione</option>
            <option value="Ender 3 S1">Ender 3 S1</option>
        </select>

        <label for="pintura">Pintura</label>
        <select id="pintura">
            <option value="">Selecione</option>
            <option value="Sim">Sim</option>
            <option value="Não">Não</option>
        </select>

        <div class="result" id="resultado">
            <p><strong>Custo Filamento:</strong> R$ 0,00</p>
            <p><strong>Custo Luz:</strong> R$ 0,00</p>
            <p><strong>Taxa Máquina:</strong> R$ 0,00</p>
            <p><strong>Taxa Pintura:</strong> R$ 0,00</p>
            <p><strong>Custo Real:</strong> R$ 0,00</p>
            <p><strong>Valor Mínimo (35% lucro):</strong> R$ 0,00</p>
            <p><strong>Valor Recomendado (50% lucro):</strong> R$ 0,00</p>
            <p><strong>Valor Target (80% lucro):</strong> R$ 0,00</p>
        </div>

        <button onclick="salvarDados()">Salvar Orçamento</button>
    </div>

    <script>
        function formatReal(valor){
            return "R$ " + valor.toFixed(2).replace(".", ",");
        }

        function atualizarValores(){
            const material = document.getElementById("material").value;
            const quantidade = parseFloat(document.getElementById("quantidade").value) || 0;
            const horas = parseFloat(document.getElementById("horas").value) || 0;
            const maquina = document.getElementById("maquina").value;
            const pintura = document.getElementById("pintura").value;

            let custoFilamento = 0;
            if(material === "ABS") custoFilamento = (quantidade/1000)*100;
            else if(material === "PLA") custoFilamento = (quantidade/1000)*140;
            else if(material === "PETG") custoFilamento = (quantidade/1000)*120;

            let custoLuz = 0;
            const precoKwh = 0.82607;
            const consumoKw = 0.12;
            if(maquina === "Ender 3 S1") custoLuz = consumoKw * precoKwh * horas;

            const taxaMaquina = 2*horas;
            const taxaPintura = (pintura === "Sim") ? 4 : 0;
            const custoReal = custoFilamento + custoLuz + taxaMaquina + taxaPintura;

            const valorMin = custoReal/(1-0.35);
            const valorRec = custoReal/(1-0.5);
            const valorMax = custoReal/(1-0.8);

            const resultado = document.getElementById("resultado");
            resultado.innerHTML = `
                <p><strong>Custo Filamento:</strong> ${formatReal(custoFilamento)}</p>
                <p><strong>Custo Luz:</strong> ${formatReal(custoLuz)}</p>
                <p><strong>Taxa Máquina:</strong> ${formatReal(taxaMaquina)}</p>
                <p><strong>Taxa Pintura:</strong> ${formatReal(taxaPintura)}</p>
                <p><strong>Custo Real:</strong> ${formatReal(custoReal)}</p>
                <p><strong>Valor Mínimo (35% lucro):</strong> ${formatReal(valorMin)}</p>
                <p><strong>Valor Recomendado (50% lucro):</strong> ${formatReal(valorRec)}</p>
                <p><strong>Valor Target (80% lucro):</strong> ${formatReal(valorMax)}</p>
            `;
        }

        function salvarDados(){
            const material = document.getElementById("material").value;
            const quantidade = parseFloat(document.getElementById("quantidade").value) || 0;
            const horas = parseFloat(document.getElementById("horas").value) || 0;
            const maquina = document.getElementById("maquina").value;
            const pintura = document.getElementById("pintura").value;

            let custoFilamento = 0;
            if(material === "ABS") custoFilamento = (quantidade/1000)*100;
            else if(material === "PLA") custoFilamento = (quantidade/1000)*140;
            else if(material === "PETG") custoFilamento = (quantidade/1000)*120;

            let custoLuz = 0;
            const precoKwh = 0.82607;
            const consumoKw = 0.12;
            if(maquina === "Ender 3 S1") custoLuz = consumoKw * precoKwh * horas;

            const taxaMaquina = 2*horas;
            const taxaPintura = (pintura === "Sim") ? 4 : 0;
            const custoReal = custoFilamento + custoLuz + taxaMaquina + taxaPintura;

            const valorMin = custoReal/(1-0.35);
            const valorRec = custoReal/(1-0.5);
            const valorMax = custoReal/(1-0.8);

            const dados = {
                material, quantidade, horas, maquina, pintura,
                custoFilamento, custoLuz, taxaMaquina, taxaPintura,
                custoReal, valorMin, valorRec, valorMax
            };

            fetch("SUA_URL_DO_SCRIPT_AQUI", {
                method: "POST",
                body: JSON.stringify(dados),
                head
